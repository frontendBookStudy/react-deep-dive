# 웹 개발자가 관심 가져야 할 핵심 웹 지표

### 웹사이트와 성능

사용자의 입장에서 보았을 때 공통적으로 기대하는 웹 사이트의 성능

1. 웹 사이트를 방문한 목적을 손쉽게 달성할 수 있어야 함
2. 첫 번째 목적을 달성하는 데 시간이 짧아야 함
3. 사용자의 개인정보가 누출 되는 등의 사고없이 보안이 철저해야 함(신뢰성)

웹사이트의 성능과 사용자 경험 사이의 상관관계에 대한 데이터 중 책에있는 예제
디지털 마케팅 에이전시 Protent의 조사

- 1초 내로 로딩되는 사이트는 5초 내로 로딩되는 사이트보다 전자상거래 전환율(실제 구매로 이어지는 고객의 비율) 이 2.5배 더 높다.
- 0 ~ 5초의 범위에서, 1초 로딩이 늦어질 수록 전환율은 4.42% 씩 떨어진다. 즉, 5초 이상 느려지면 전환율은 20% 가까이 떨어진다.
- 페이지 로드 시간이 0 ~ 2초 사이인 페이지에서 가장 높은 전환율을 달성할 수 있다.

사용자 또한 이러한 성능에 매우 민감한 것으로 조사되었다.

- 소비자의 70%는 페이지 속도가 온라인 커머스 사이트를 방문하는 데 영향을 미친다고 밝혔으며,
- 절반 가까운 사람이 더욱 빠르게 로딩할 수 있다면 애니메이션과 동영상이 필요 없다고 밝혔다.

세계 최대의 검색엔진이자 가장 많은 방문객을 보유한 웹사이트를 운영하는 구글에서도 이와 비슷하게 웹 사이트의 성능에 관한 통계를 내놓은 바 있다.

- 전체 웹 페이지를 표시하는 데 필요한 최적의 평균 리로스 요청수는 50회 미만이다. (한 페이지를 로딩하는 데 50회 미만의 요청이 발생해야한다.)
- 평균적으로 웹 페이지 전체를 요청하는 데 15.3초가 걸린다. (통신 기술이 많이 발전한 오늘 날에도,, 이 책이 쓰여진 시점과 지금 시점의 통신속도는 크게 다르지 않다.)
- 인간의 뇌와 신경계를 분석한 결과, 페이지 로드 시간이 1초에서 10초로 늘어날 수록 모바일 사이트를 이탈할 확률이 123% 증가한다.

### 핵심 웹 지표란? (Core Web Vital)

채겡서 다루는 내용은 구글에서 핵심적인 웹 지표를 몇 가지 요약하였고, 이를 측정할 수 있는 방법과 "좋은 웹사이트" 로 분류할 수 있는 기준을 제시하였다.

이는 표준은 아니지만, 구글이기에 어느정도 신뢰할 수 있는 지표일 것이다.

구글에서 핵심 웹 지표로 꼽는 지표는 아래와 같다.

- 최대 콘텐츠풀 페인트 (LCP : Largest Contentful Paint)
- 최초 입력 지연(FID : First Input Delay)
- 누적 레이아웃 이동(CLS : Cumulative Layout Shift)

아래는 핵심 지표는 아니지만 특정 문제를 진단하는 데 사용될 수 있는 지표이다.

- 최초 바이트까지의 시간(TTFB : Time To First Byte)
- 최초 콘텐츠풀 시간(FCP : First Contentful Paint)

### 최대 콘텐츠풀 페인트 (LCP)

페이지가 처음으로 로드를 시작한 시점부터 뷰포트 내부에서 가장 큰 이미지 또는 텍스트를 렌더링하는 데 걸리느 시간을 뜻한다.

뷰포트는 사용자에게 현재 노출되는 화면을 의미하며, 사용자에게 노출되는 영역은 기기에 의존하므로 뷰포트 크기는 기기마다 다르다.

즉, 모바일 기기는 PC에 비해 뷰포트가 작을 것이며 이 뷰포트 내부에서 '큰 이미지와 텍스트' 는 다음과 같이 정의되어 있다.

- <img>
- <svg> 내부의 <image>
- poster 속성을 사용하는 <video>
- url()을 통해 불러온 배경 이미지가 있는 요소
- 텍스트와 같이 인라인 텍스트 요소를 포함하고 있는 블록 레벨 요소
- 이 블록 레벨 요소에는 <p>, <div> 등이 포함된다.

최대 콘텐츠풀 페인트는 사용자의 기기가 노출하는 뷰포트 내부에서 가장 큰 영역을 차지하는 요소가 렌더링 되는 데 얼마나 걸리는 지를 측정하는 지표.
실제 크기가 크다고 하더라도 뷰포트 영역 밖에 넘치는 요소가 있다면 해당 영역의 크기는 고려되지 않는다.

따라서 아무리 콘텐츠 높이가 길어도(instagram, facebook 처럼 스크롤이 무진장 길 경우), 최대 콘텐츠풀 페인트에 영향을 미치는 부분은 오직 뷰포트의 영역 뿐이다.

#### 의미

DocumentContentLoaded의 경우 "스타일시트, 이미지, 하위 프레임" 로딩은 기다리지 않기 때문에 실질적으로 이벤트가 발생하더라도, 사용자는 페이지의 로딩이 끝났다고 여기지 않을 것이다.

사용자가 직접 보고 있는 뷰포트가 로딩이 되어야지 완전히 페이지가 로딩되었다 라고 생각할 것이기 때문에 위와 같은 지표를 사용한다.

### 최대 입력 지연 (FID)

### 누적 레이아웃 이동 (CLS)

### 정리
